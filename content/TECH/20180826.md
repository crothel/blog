Title: GithubPages + Pelicanでブログ構築  
Date: 2018-08-26 19:30  
Tags: python, github pages, pelican
Slug: 20180826
Summary: GithubPages + Pelicanによるブログの構築について。

### 1.はじめに

学習の効率を上げるためにアウトプットの割合を増やす必要があると思い立ち、ブログに学習記録を書いたり、取り組みを整理したりすることにした。

WordPressなどのCMSで簡単にはじめても良かったのだが、ブログという点でも新しい取り組みをしようということで、Markdownで記事を書き、Pythonで静的ファイルを生成し、Githubで管理することにした。

### 2.候補
- [Python製の静的サイトジェネレータを色々試してみました - Blank File][1]
- [静的サイトジェネレータのすゝめ][2]
[1]:[http://h-miyako.hatenablog.com/entry/2016/02/15/154712]
[2]:[https://slideship.com/users/@driller/presentations/2017/09/N6Jbt8C28qNE4yYP8hDaPh/]

上記サイトで紹介されている静的サイトジェネレータから、結局Pelicanを選択した。

利用者が多くテーマが豊富という点が決め手。Jinja2やCSSをいじってデザインを作り込む気はなく、ひとまずコンテンツの作成に集中したかった。

### 3.構築
- [Blog システムを Pelican に移行する][1]
- [Python製静的HTMLジェネレータのPelicanでGitHub Pagesを公開する方法][2]
[1]:[https://www.compnet.jp/posts/2016-10-04T1648_switch-to-pelican.html]
[2]:[https://qiita.com/yusukew62/items/7b01d2370cdbe170b28d]

#### 3-1.Github Pagesの準備

Github Pagesにはユーザーページとプロジェクトページの二種類がある。ユーザーページはユーザーごとに1つしか作れないが、プロジェクトページはレポジトリごとに作成することができる。

特に機能の差はないようだが、静的ファイルを管理するブランチが異なる。ユーザーページの場合はmasterブランチで管理するが、プロジェクトページの場合はgh-pagesと名付けたブランチで管理するのがデフォルトのようだ。

後述のghp-importを使うとgh-pagesというブランチに静的ファイルをまとめることになる。リモートとブランチ名を変えるのはミスの元になりそうで好ましくないので、プロジェクトページを作成することにした。

レポジトリを新規作成し、gh-pagesというブランチも作成。ローカルの作業フォルダでgit cloneを行った。基本的にはmasterブランチで作業し、そのままソースコードも管理する。


#### 3-2.Pelicanの準備とテーマ設定

上記サイトの解説を参照。


テーマはpelican-boostrap3を採用した。
テーマ解説の和訳


#### テンプレートの編集
##### dateformat

##### addthis

##### googleanalytics

