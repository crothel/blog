Title: 国家予算をサンバースト図にする（その２）
Date: 2018-09-05 21:30
Tags: javascript, d3.js, 可視化, 予算
Slug: 20180905
Summary: 2018年度国家予算をサンバースト図で表現する。JsonをD3.jsで読み込んでとりあえず描画するまで。

## 1. 前回まで

&nbsp;

財務省からダウンロードしたデータを整えた。  
これをD3.jsで読み込み、階層構造とし、サンバースト図で表現する。

&nbsp;

## 2. とりあえずサンプルを用いて表示

&nbsp;
[平成３０年度予算のサンバースト図](https://crothel.github.io/national_budget/partition.html)

&nbsp;

が、こうするまでに、はじめてのJavascriptでつまり、「とりあえず満足」を得たので、詰まったところのメモに止める。
&nbsp;

#### サーバーを立てないとデータを読み込まない。

これはJavascriptのせいというよりは、 ブラウザのセキュリティ対策に原因があるらしい。
&nbsp;

#### CSVで読み込まれるデータの型はオブジェクト

Stringと数値型で扱いたかったのだが、ついに変換する方法を見つけることはできなかった。結局Jsonでやり直している。
&nbsp;

## 3. 今後（いつか）

- 視認性が悪い。特に割合の低いデータの部分。
    - 凡例を追加し、インタラクティブに。
    - パンくずを追加。どこを見ているかわかりやすいように。
- 単位が千円だと数えにくい。
- カラーリングがイマイチ




